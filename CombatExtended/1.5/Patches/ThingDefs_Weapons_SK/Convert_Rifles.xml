<?xml version="1.0" encoding="utf-8" ?>
<Patch>
<!-- M16 -->
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_AssaultRifle"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModAR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.055,-0.1,0.020)</postion>
						<scale>(0.8,0,0.8)</scale>
						<defultThing>Module_AR_MagClip</defultThing>
						<allowEmpty>false</allowEmpty>
						<!--<allowEmpty>true</allowEmpty>-->
						<filter>
							<thingDefs>
								<li>Module_AR_MagClip</li>
								<li>Module_AR_Mag60Clip</li>
								<li>Module_AR_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_AR_MagClip>1</Module_AR_MagClip>
							<Module_AR_MagDrum>1</Module_AR_MagDrum>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModAR_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(-0.047,-0.1,0.051)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<verbPropertiesObjectPatchByChildPart Default="false" />
						<postion>(-0.059,0.1,0.012)</postion>
						<scale>(0.85,0,0.85)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Bipod</li>
								<li>Module_UBGL</li>
								<li>Module_MasterKey</li>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
						<allowedExtraCompType>
							<li>CombatExtended.BipodComp</li>
						</allowedExtraCompType>
					</li>
					<li>
						<id>ModAR_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_AR_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.51,0.1,0.01)</postion>
						<scale>(0.6,0,0.6)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
								<li>Module_AR_LongBarrel</li>
								<li>Module_Bayonet</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>


	<!-- Gun_SCAR_H -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_SCAR_H"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModAR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(0.02,0.1,0.02)</postion>
						<defultThing>Module_AR_MagClip</defultThing>
						<allowEmpty>false</allowEmpty>
						<!--<allowEmpty>true</allowEmpty>-->
						<filter>
							<thingDefs>
								<li>Module_AR_MagClip</li>
								<li>Module_AR_Mag60Clip</li>
								<li>Module_AR_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_AR_MagClip>1</Module_AR_MagClip>
							<Module_AR_Mag60Clip>1</Module_AR_Mag60Clip>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModAR_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.023,0.1,0.012)</postion>
						<scale>(0.85,0,0.85)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<verbPropertiesObjectPatchByChildPart Default="false" />
						<postion>(0.08,0.1,0)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Bipod</li>
								<li>Module_UBGL</li>
								<li>Module_MasterKey</li>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
						<allowedExtraCompType>
							<li>CombatExtended.BipodComp</li>
						</allowedExtraCompType>
					</li>
					<li>
						<id>ModAR_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_AR_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.41,0.1,-0.0015</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
								<li>Module_AR_LongBarrel</li>
								<li>Module_Bayonet</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- Gun_AUG -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_AUG"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModAR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.2,-0.1,0.022)</postion>
						<defultThing>Module_AR_MagClip</defultThing>
						<allowEmpty>false</allowEmpty>
						<!--<allowEmpty>true</allowEmpty>-->
						<filter>
							<thingDefs>
								<li>Module_AR_MagClip</li>
								<li>Module_AR_Mag60Clip</li>
								<li>Module_AR_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_AR_MagClip>1</Module_AR_MagClip>
							<Module_AR_MagDrum>1</Module_AR_MagDrum>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModAR_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.01,0.1,0.035)</postion>
						<scale>(0.9,0,0.9)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<verbPropertiesObjectPatchByChildPart Default="false" />
						<postion>(0.098,0.1,0.012)</postion>
						<scale>(0.85,0,0.85)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Bipod</li>
								<li>Module_UBGL</li>
								<li>Module_MasterKey</li>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
						<allowedExtraCompType>
							<li>CombatExtended.BipodComp</li>
						</allowedExtraCompType>
					</li>
					<li>
						<id>ModAR_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_AR_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.49,0.1,0.018)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
								<li>Module_AR_LongBarrel</li>
								<li>Module_Bayonet</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- Gun_SG553Gun -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_SG553Gun"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<!-- <li> 
						<id>ModAR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(0.0462,0.1,0.05)</postion>
						<defultThing>Module_AR_MagClip</defultThing>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_AR_MagClip</li>
								<li>Module_AR_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_AR_MagClip>1</Module_AR_MagClip>
							<Module_AR_MagDrum>1</Module_AR_MagDrum>
						</randomThingDefWeights>
					</li> -->
					<li>
						<id>ModAR_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.0,0.1,0.031)</postion>
						<scale>(0.95,0,0.95)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<verbPropertiesObjectPatchByChildPart Default="false" />
						<postion>(0.082,0.1,0.02)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Bipod</li>
								<li>Module_UBGL</li>
								<li>Module_MasterKey</li>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
						<allowedExtraCompType>
							<li>CombatExtended.BipodComp</li>
						</allowedExtraCompType>
					</li>
					<li>
						<id>ModAR_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_AR_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.468,0.1,0.02)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
								<li>Module_AR_LongBarrel</li>
								<li>Module_Bayonet</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- MA5B - Gun_TacticalCombatRifle -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_TacticalCombatRifle"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModAR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(0.02, -0.1, 0.043)</postion>
						<defultThing>Module_AR_MagClip</defultThing>
						<allowEmpty>false</allowEmpty>
						<!--<allowEmpty>true</allowEmpty>-->
						<filter>
							<thingDefs>
								<li>Module_AR_Mag60Clip</li>
								<li>Module_AR_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_AR_Mag60Clip>1</Module_AR_Mag60Clip>
							<Module_AR_MagDrum>1</Module_AR_MagDrum>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModAR_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.152,0.1,0.086)</postion>
						<scale>(0.80,0,0.80)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<verbPropertiesObjectPatchByChildPart Default="false" />
						<postion>(0.086,-0.1,-0.078)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Bipod</li>
								<li>Module_UBGL</li>
								<li>Module_MasterKey</li>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
						<allowedExtraCompType>
							<li>CombatExtended.BipodComp</li>
						</allowedExtraCompType>
					</li>
					<li>
						<id>ModAR_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_AR_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.496,0.1,0.031)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
								<li>Module_AR_LongBarrel</li>
								<li>Module_Bayonet</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- Morita II - replaces TAR-21 - Gun_MarineSturmRifle -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_MarineSturmRifle"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModAR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.234,0.1,0.043)</postion>
						<defultThing>Module_AR_MagClip</defultThing>
						<allowEmpty>false</allowEmpty>
						<!--<allowEmpty>true</allowEmpty>-->
						<filter>
							<thingDefs>
								<li>Module_AR_Mag60Clip</li>
								<li>Module_AR_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_AR_Mag60Clip>1</Module_AR_Mag60Clip>
							<Module_AR_MagDrum>1</Module_AR_MagDrum>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModAR_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.078,0.1,0.078)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<verbPropertiesObjectPatchByChildPart Default="false" />
						<postion>(0.086,0.1,0.02)</postion>
						<scale>(0.85,0,0.85)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Bipod</li>
								<li>Module_UBGL</li>
								<li>Module_MasterKey</li>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
						<allowedExtraCompType>
							<li>CombatExtended.BipodComp</li>
						</allowedExtraCompType>
					</li>
					<li>
						<id>ModAR_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_AR_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.49,0.1,0.027)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
								<li>Module_AR_LongBarrel</li>
								<li>Module_Bayonet</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- Lancer - replaces HK XM8-->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="RF_Gun_XMeight"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModAR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.108,-0.1,-0.02)</postion>
						<scale>(1,0,1)</scale>
						<defultThing>Module_AR_MagClip</defultThing>
						<allowEmpty>false</allowEmpty>
						<!--<allowEmpty>true</allowEmpty>-->
						<filter>
							<thingDefs>
								<li>Module_AR_MagClip</li>
								<li>Module_AR_Mag60Clip</li>
								<li>Module_AR_MagDrum</li>
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_AR_MagClip>1</Module_AR_MagClip>
							<Module_AR_MagDrum>1</Module_AR_MagDrum>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModAR_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(-0.047,0.1,0.016)</postion>
						<scale>(1,0,1)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<!-- <li>Module_SniperScope</li> -->
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_AR_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.441,0.1,0.004)</postion>
						<scale>(0.7,0,0.7)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<!-- <li>Module_Silencer</li> -->
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
								<!-- <li>Module_AR_LongBarrel</li> -->
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- Gun_AK47Gun -->

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_AK47Gun"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModAR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.016,-0.1,0.068)</postion>
						<defultThing>Module_AK47Default</defultThing>
						<allowEmpty>false</allowEmpty>
						<!--<allowEmpty>true</allowEmpty>-->
						<filter>
							<thingDefs>
								<li>Module_AK47Default</li>
								<!--<li>Module_AR_MagClip</li>
								<li>Module_AR_Mag60Clip</li>-->
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_AR_MagClip>1</Module_AR_MagClip>
							<Module_AR_Mag60Clip>0.5</Module_AR_Mag60Clip>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModAR_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0,0.1,0.015)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<li>Module_SniperScope</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<verbPropertiesObjectPatchByChildPart Default="false" />
						<postion>(-0.06,0.1,0.017)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Bipod</li>
								<li>Module_UBGL</li>
								<li>Module_MasterKey</li>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
						<allowedExtraCompType>
							<li>CombatExtended.BipodComp</li>
						</allowedExtraCompType>
					</li>
					<li>
						<id>ModAR_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_AR_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.5,0.1,0.0141)</postion>
						<scale>(0.75,0,0.75)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
								<li>Module_AR_LongBarrel</li>
								<li>Module_Bayonet</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

	<!-- FAMAS -->
	
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Gun_FAMAS"]/comps</xpath>
		<value>
			<li Class="RW_NodeTree.CompProperties_ChildNodeProccesser">
				<TextureSizeFactor>256</TextureSizeFactor>
				<TextureFilterMode>Point</TextureFilterMode>
				<ExceedanceFactor>2</ExceedanceFactor>
				<ExceedanceOffset>1</ExceedanceOffset>
			</li>
			<li Class="RW_ModularizationWeapon.CompProperties_ModularizationWeapon">
				<setRandomPartWhenCreate>true</setRandomPartWhenCreate>
				<attachmentProperties>
					<li>
						<id>ModAR_Magazine</id>
						<name>magazine</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Mag</UITexPath>
						<postion>(-0.18,-0.1,0.06)</postion>
						<defultThing>Module_AR_MagClip</defultThing>
						<allowEmpty>false</allowEmpty>
						<!--<allowEmpty>true</allowEmpty>-->
						<filter>
							<thingDefs>
								<li>Module_AR_MagClip</li>
								<li>Module_AR_Mag60Clip</li>
								<!-- <li>Module_AR_MagDrum</li> -->
							</thingDefs>
						</filter>
						<randomThingDefWeights>
							<Module_AR_MagClip>1</Module_AR_MagClip>
							<Module_AR_Mag60Clip>1</Module_AR_Mag60Clip>
						</randomThingDefWeights>
					</li>
					<li>
						<id>ModAR_Sight</id>
						<name>sight</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Scope</UITexPath>
						<postion>(0.1,0.1,0.11)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_ACOG</li>
								<li>Module_HoloSight</li>
								<li>Module_RedDotSight</li>
								<!-- <li>Module_SniperScope</li> -->
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_UnderBarrel</id>
						<name>under barrel</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Underbarrel</UITexPath>
						<verbPropertiesObjectPatchByChildPart Default="false" />
						<postion>(0.01,0.1,-0.01)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Bipod</li>
								<li>Module_UBGL</li>
								<li>Module_MasterKey</li>
								<li>Module_VerticalGrip</li>
								<li>Module_AngledGrip</li>
							</thingDefs>
						</filter>
						<allowedExtraCompType>
							<li>CombatExtended.BipodComp</li>
						</allowedExtraCompType>
					</li>
					<li>
						<id>ModAR_Receiver</id>
						<name>chamber</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Receiver</UITexPath>
						<postion>(0,0.1,0)</postion>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_AR_Chamber</li>
							</thingDefs>
						</filter>
					</li>
					<li>
						<id>ModAR_Muzzle</id>
						<name>muzzle</name>
						<UITexPath>ui/icons/AttachmentIcon/AttachmentIcon_Muzzle</UITexPath>
						<postion>(0.508,0.1,0.014)</postion>
						<scale>(0.65,0,0.65)</scale>
						<allowEmpty>true</allowEmpty>
						<filter>
							<thingDefs>
								<li>Module_Silencer</li>
								<li>Module_MuzzleBrake</li>
								<li>Module_MuzzleCompensator</li>
								<li>Module_FlashHider</li>
								<!-- <li>Module_AR_LongBarrel</li> -->
								<li>Module_Bayonet</li>
							</thingDefs>
						</filter>
					</li>
				</attachmentProperties>
				<compGetGizmosExtraAllowedCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compGetGizmosExtraAllowedCompType>
				<compPropertiesInitializeCompType>
					<li>CombatExtended.CompAmmoUser</li>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesInitializeCompType>
				<compPropertiesCreateInstanceCompType>
					<li>CombatExtended.CompFireModes</li>
				</compPropertiesCreateInstanceCompType>
			</li>
		</value>
	</Operation>

</Patch>